【キーワード】

全探索 (4 重の for 文) だと間に合わない
半分全列挙
二分探索